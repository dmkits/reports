<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="employeeLogin_PageContainer" style="width: 100%; height: 100%;">
    <div id="employeeLogin_ContentContainer" style="width:100%;height:100%; margin:0;padding:0;"></div>
</div>
</body>
<script type="text/javascript">
    require(["dojo.app/app", "dijit/layout/BorderContainer", "dijit/layout/StackContainer", "dojo.app/tDocumentSimpleTableEditable"],
        function (APP, BorderContainer, StackContainer, TDocumentSimpleTableEditable) {
            var employeeLogin_PageContainer=
                APP.instanceForID("employeeLogin_PageContainer", BorderContainer, {});
            var employeeLogin_ContentContainer=
                APP.instanceForID("employeeLogin_ContentContainer", StackContainer, {region:'center'});

            employeeLogin_ContentContainer.document =
                APP.childFor(employeeLogin_ContentContainer, "employeeLoginTable",
                    TDocumentSimpleTableEditable, {titleText:"Список сотрудников",
                        buttonExportToExcel:false,
                        rightPane:{width:150}, rightToolPane:{title:"Действия",
                            buttons:{ allowEditTableSelectedRow:"Изменить", storeTableSelectedRow:"Сохранить"}},
                        dataURL:"/sysadmin/employeeLoginTable/getDataForTable", dataStoreURL:"/sysadmin/employeeLoginTable/storeTableData"
                    })
                    .addContentTableRowChangeCallback(function(crd/*changedRowData*/, contentTable, params, nextCallback){
                            if (crd.item("ShiftPostName").isChanged()){
                                var shiftPostID=
                                        contentTable.getAutocompleteColumnValueForItem("ShiftPostName",crd.item("ShiftPostName").getValue(),"ShiftPostID");
                                crd.item("ShiftPostID").setValue(shiftPostID);
                            }
                            nextCallback();
                    })
                    .addTotalCountNumberBox("ИТОГО строк:", 150, {style:"font-weight:bold;",inputStyle:"width:50px"})
                    .addContentTablePopupMenuTableRowsAction("Изменить строки",{actionName:"allowEditTableSelectedRows"})
                    .addContentTablePopupMenuTableRowsAction("Сохранить строки",{actionName:"storeTableSelectedRows"})
                    .startUp();
            employeeLogin_PageContainer.layout();
        })
</script>
</html>