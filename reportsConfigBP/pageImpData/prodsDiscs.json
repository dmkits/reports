{
  "headers":[
    { "type":"checkButton", "label":"Only with discount", "params":{"contentTableConditions":{"OnlyWithDiscount":1}} },
    { "type":"checkButton", "label":"All products", "params":{"contentTableConditions":{"OnlyWithDiscount":0}} },
    { "type":"checkButton", "label":"Without discount", "params":{"contentTableConditions":{"OnlyWithDiscount":-1}} }
  ],
  "columns":[
    { "data": "ProdID", "name": "ProdID", "type": "numeric", "language": "ru-RU", "width": 65, "align":"right" },
    { "data": "ProdName", "name": "ProdName", "type": "text", "width": 300 },
    { "data": "UM", "name": "UM", "type": "text", "width": 50, "align":"center" },
    { "data": "Article1", "name": "Article1", "type": "text", "width": 100, "align":"center" },
/*    { "data": "Notes", "name": "Notes", "type": "text", "width": 310 }, */
    { "data": "UID", "name": "UID", "type": "text", "width": 120, "align":"center" },
    { "data": "BarCode", "name": "BarCode", "type": "text", "width": 100, "align":"center" },
    { "data": "BCUM", "name": "BCUM", "type": "text", "width": 50, "align":"center" },
    { "data": "PriceMC", "name": "Price", "type": "numeric", "width": 50, "align":"right" },
    { "data": "PriceMC1", "name": "Price 1", "type": "numeric", "width": 50, "align":"right" },
/*    { "data": "DiscName", "name": "DiscName", "type": "text", "width": 100, "align":"center" },*/
/*    { "data": "DPDDocID", "name": "DPD DocID", "type": "text", "width": 50, "align":"center" },*/
    { "data": "DPDDiscount", "name": "Disc", "type": "text", "width": 55, "align":"center" }
/*    { "data": "DPDParamL", "name": "DPD ParamL", "type": "text", "width": 50, "align":"center" }*/
  ],
  "groupRows":{
    "columnKeyFieldName":"DPDID", "columnNameFieldName":"DPDName", "dataFieldName":"DPDDiscount"
  },
  "selectedRowInfo":[
    { "id":"curDiscsInfo", "width":450, "title":"Current discounts info",
      "sql":"select m.DiscCode,d.DiscName,m.DocID,convert(varchar(20),m.BDate,104) BDate,convert(varchar(20),m.EDate,104) EDate, m.ProdID,m.UM,m.ParamL ParL,m.ParamN ParN,m.Discount Disc,m.PLID,pl.PLName from it_DiscPlanD m left join r_Discs d on d.DiscCode=m.DiscCode left join r_PLs pl on pl.PLID=m.PLID where ProdID=@ProdID and dbo.zf_GetDate(GETDATE()) between m.BDate and m.EDate order by m.DiscCode,m.DocID",
      "sqlParamFieldName":"ProdID", "resultType":"items", "resultColumns":["ProdID","DiscName","DocID","BDate","EDate","Disc","ParL","ParN","PLName"]
    },
    { "id":"allDiscsInfo", "width":450, "title":"ALL discounts info",
      "sql":"select m.DiscCode,d.DiscName,m.DocID,convert(varchar(20),m.BDate,104) BDate,convert(varchar(20),m.EDate,104) EDate, m.ProdID,m.UM,m.ParamL ParL,m.ParamN ParN,m.Discount Disc,m.PLID,pl.PLName from it_DiscPlanD m left join r_Discs d on d.DiscCode=m.DiscCode left join r_PLs pl on pl.PLID=m.PLID where ProdID=@ProdID order by m.DiscCode,m.DocID",
      "sqlParamFieldName":"ProdID", "resultType":"items", "resultColumns":["ProdID","DiscName","DocID","BDate","EDate","Disc","ParL","ParN","PLName"]
    },
    { "id":"prodInfo", "width":450,
      "sql":"select p.ProdID,p.ProdName,p.UM,p.InRems,p.Notes,p.Article1,p.Article2,p.Article3,p.Note3,p.PGrID3,pg3.PGrName3 from r_Prods p,r_ProdG3 pg3 where pg3.PGrId3=p.PGrID3 and p.ProdID=@ProdID",
      "sqlParamFieldName":"ProdID", "resultType":"item"
    }
  ],
  "totals":[
    {"type":"rowCount", "label":"ИТОГО строк:"}
  ]
}
